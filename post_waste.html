<form id="wasteForm" enctype="multipart/form-data">
    <input type="text" name="description" placeholder="What item is this?" required>
    <input type="file" name="waste_image" accept="image/*" required>
    <button type="submit">Post Waste</button>
</form>

<div id="map" style="height: 400px; margin-top: 20px;"></div>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
    const map = L.map('map').setView([12.87, 74.88], 13); // Default view
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

    document.getElementById('wasteForm').onsubmit = async (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        const res = await fetch('upload.php', { method: 'POST', body: formData });
        const data = await res.json();
        if(data.success) alert("Posted Successfully!");
    };
</script>